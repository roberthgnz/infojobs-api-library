# InfoJobs API Library: Node.js Client

This is InfoJobs's unofficially supported [node.js](http://nodejs.org/) client API library.

## How to use

```js
const infojobs = require('infojobs-api-library');

const apiClient = infojobs.api({
  clientId: process.env.CLIENT_ID,
  clientSecret: process.env.CLIENT_SECRET,
});

const offerList = await apiClient.offer.list({
  q: ['React Developer', 'MÃ©dico'],
  province: ['Madrid', 'Barcelona'],
});

console.log(offerList);

const offer = await apiClient.offer.get({
  offerId: '65b4adb85b4ac68363a309cde31228',
});

console.log(offer);
```

### Make private API requests.

```js
const auth = new infojobs.auth({
  clientId: process.env.CLIENT_ID,
  clientSecret: process.env.CLIENT_SECRET,
  redirectUri: process.env.REDIRECT_URI,
});

// The verification code will be generated by InfoJobs and sent to your application as a parameter of the Callback URI you specified when registering your application.
const dialogUrl = auth.generateAuthUrl({
  scope: 'CV',
  responseType: 'code',
});

console.log(dialogUrl);

// IMPORTANT
// You need the verification code generated with the dialog url
const token = await auth.getAccessToken(code);

const res = await apiClient.curriculum.get({ token: token.access_token });

console.log(res);

const education = await apiClient.curriculum.details.education({
  token: token.access_token,
  curriculumId: '7a73bfbd-c3fe-426e-a99e-3454d9fd2dd4',
  details: true,
});

console.log(education);
```
